<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/reset.css">
    <link rel="stylesheet" href="/style.css">
    <title>Document</title>
</head>
<body>
<div class="flex-container">
<div class="title"><h1>SketchPad</h1></div>
<div class="content">
    <div class="board"></div>
    <div class="buttons">
        <button onclick="changeColor('black')">Black</button>
        <button onclick="changeColor('white')">erasor</button> 
        <button onclick="changeColor('gray')">gray</button> 
        <button onclick="changeColor('random')">Random</button>
       <button onclick="resetBoard()">Reset</button>



    </div>
    <input type="text" 
    placeholder="size of board" 
    value="16" 
    onchange="changeSize(this.value)">
    
    <button>set size</button>
</div>

</div>
<script >

let color = 'black';
let click = true;




function populateBoard(size){
    let board = document.querySelector('.board'); 
    let squares = board.querySelectorAll('div');
    squares.forEach((div) => div.remove());
board.style.gridTemplateColumns = `repeat(${size} , 1fr)`;
board.style.gridTemplateRows = `repeat(${size} , 1fr)`;
let amount = size * size;

for(let i = 0; i < amount; i++){

let square = document.createElement('div');
square.addEventListener('mouseover' , colorSquare)
square.style.backgroundColor = 'blue'
board.insertAdjacentElement('beforeend' , square)


}
}
populateBoard(16);


function changeSize(input){
    if(input >=2 || input <=100){
        populateBoard(input);


    }
    else{

        console.log('too many squares');
    }

}
function colorSquare(){
    if(click) {
  if(color === 'random'){
    this.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
  }
  else{
    this.style.backgroundColor = color
  }
}
}


function changeColor(choice){
     color = choice;
}
function resetBoard(){
    let board = document.querySelector('.board'); 
    let squares = board.querySelectorAll('div');
    squares.forEach((div) => div.style.backgroundColor = 'white');


}
document.querySelector("body").addEventListener('click' , () =>{
   click == !click;


})





</script>
</body>
</html>